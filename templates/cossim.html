<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="cp932">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"/> 
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <title>Mig's Factory</title>
    </head>

    <body>
        <form action="/result" method="post">
         <div class="container_cos" style="display:grid;">
            <div class="caption1">要素A（a<sub>1</sub>,a<sub>2</sub>）,要素B（b<sub>1</sub>,b<sub>2</sub>）とすると</div>
            <div class="caption2" style="font-size:200%">コサイン類似度</div>
        
            <div class="caption3">\( \dfrac{a_1b_1+a_2b_2}{\sqrt{a_1^2+a_2^2}*\sqrt{b_1^2+b_2^2}} \)</div>
            <div class="capcossim">{% if session['result'].cossim %}= {{session['result'].cossim}}{% else %}{% endif %}</div>
         </div>


            <div class="cosresult">コサイン類似度:</div>
         <div class="container_para">
            <div class="para">
              a<sub>1</sub> <input type="number" step="0.01" name="a1" class="parain" {% if session['result']!=none %}value="{{session['result']['cossiminit'][0]}}"{% endif %}>
            </div>
            <div class="para">
             a<sub>2</sub> <input type="number" step="0.01" name="a2"class="parain" {% if session['result']!=none %}value="{{session['result']['cossiminit'][1]}}"{% endif %}>
            </div>
           <div class="para">
              a<sub>3</sub> <input type="number" step="0.01" name="a3"class="parain" {% if session['result']!=none %}value="{{session['result']['cossiminit'][2]}}"{% endif %}>
           </div>
           <div class="para">
               b<sub>1</sub> <input type="number" step="0.01" name="b1"class="parain" {% if session['result']!=none %}value="{{session['result']['cossiminit'][3]}}"{% endif %}>
           </div>
            <div class="para">
                b<sub>2</sub> <input type="number" step="0.01" name="b2"class="parain" {% if session['result']!=none %}value="{{session['result']['cossiminit'][4]}}"{% endif %}>
           </div>
           <div class="para">
               b<sub>3</sub> <input type="number" step="0.01" name="b3"class="parain" {% if session['result']!=none %}value="{{session['result']['cossiminit'][5]}}"{% endif %}>
           </div>
           <div class="caption4">空欄は0で補完されますが、aとbに最低一つずつ値入れないとエラー落ちします。</b></div>
           <div  class="submitbutton" >
             <button type="submit" name="submit" value="cossim" class="btn btn-primary">実行</button>
           </div>
         </div>
        </form>
        
    </body>
</html>