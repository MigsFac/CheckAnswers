<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="cp932">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"/> 
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <title>Mig's Factory</title>
    </head>

    <body>
        <form action="/result" method="post">
         <div class="container_confu">
            <div class="caption1">真陽性TP、偽陽性FP、偽陰性FN、真陰性TNとすると</div>
            <div class="capconfu" style="font-size:180%">混同行列</div><br>
        
            <div class="APRF">Accuracy　正解率</div> <div class="APRF-2">\( \dfrac{TP+TN}{TP+TN+FP+FN} \)</div><div class="confres">{% if session['result'].confumix %}= {{session['result'].confumix[0]}}{% else %}{% endif %}</div>
            <div class="APRF">Precision　適合率</div> <div class="APRF-2">\( \dfrac{TP}{TP+FP} \)</div><div class="confres">{% if session['result'].confumix %}= {{session['result'].confumix[1]}}{% else %}{% endif %}</div>
            <div class="APRF">Recall　再現率</div> <div class="APRF-2">\( \dfrac{TP}{TP+FN} \)</div><div class="confres">{% if session['result'].confumix %}= {{session['result'].confumix[2]}}{% else %}{% endif %}</div>
            <div class="APRF">F-measure　F値</div>  <div class="APRF-2">\( \dfrac{2×Precision × Recall}{Precision + Recall} \)</div><div class="confres">{% if session['result'].confumix %}= {{session['result'].confumix[3]}}{% else %}{% endif %}</div>
         </div>


           <div class="container_TNFP">
             <div class="para TP">
               TP <input type="number" name="TP" class="parain" {% if session['result']!=none %}value="{{session['result']['confuinit'][0]}}"{% endif %}>
             </div>
             <div class="para FN">
               FN <input type="number" name="FN"class="parain" {% if session['result']!=none %}value="{{session['result']['confuinit'][1]}}"{% endif %}>
             </div>
       
             <div class="para FP">
               FP <input type="number" name="FP"class="parain" {% if session['result']!=none %}value="{{session['result']['confuinit'][2]}}"{% endif %}>
             </div>
             <div class="para TN">
               TN <input type="number" name="TN"class="parain" {% if session['result']!=none %}value="{{session['result']['confuinit'][3]}}"{% endif %}>
             </div><br>
          
             <div class="caption4">空欄は0で補完されます。</div>
             <div  class="submitconfu" >
             <button type="submit" name="submit" value="confumix" class="btn btn-primary">実行</button>
             </div>
           </div>
         </div>
        </form>
        
    </body>
</html>
